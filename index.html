<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>吉他24品音阶练习工具</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 引入 Babel 用于解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* 自定义滚动条样式 */
        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 图标组件 ---
        const IconBase = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Trash2 = ({ className }) => (
            <IconBase className={className}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></IconBase>
        );
        const Music = ({ className }) => (
            <IconBase className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></IconBase>
        );
        const KeyboardIcon = ({ className }) => (
            <IconBase className={className}><rect width="20" height="16" x="2" y="4" rx="2"/><path d="M6 8h.001"/><path d="M10 8h.001"/><path d="M14 8h.001"/><path d="M18 8h.001"/><path d="M6 12h.001"/><path d="M10 12h.001"/><path d="M14 12h.001"/><path d="M18 12h.001"/></IconBase>
        );
        const CheckCircle = ({ className }) => (
            <IconBase className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>
        );
        const RotateCcw = ({ className }) => (
            <IconBase className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></IconBase>
        );

        // --- 常量定义 ---
        const CHROMATIC_NOTES = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
        const STRINGS_MIDI = [64, 59, 55, 50, 45, 40]; // E4, B3, G3, D3, A2, E2 (High to Low)

        const SCALES = {
            'Major (Ionian)': { intervals: [0, 2, 4, 5, 7, 9, 11], label: '大调 (Major)' },
            'Minor (Aeolian)': { intervals: [0, 2, 3, 5, 7, 8, 10], label: '小调 (Minor)' },
            'Minor Pentatonic': { intervals: [0, 3, 5, 7, 10], label: '小调五声 (Minor Pent.)' },
            'Major Pentatonic': { intervals: [0, 2, 4, 7, 9], label: '大调五声 (Major Pent.)' },
            'Blues': { intervals: [0, 3, 5, 6, 7, 10], label: '布鲁斯 (Blues)' },
            'Chromatic': { intervals: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], label: '半音阶 (Chromatic)' },
            'Dorian': { intervals: [0, 2, 3, 5, 7, 9, 10], label: '多利亚 (Dorian)' },
            'Mixolydian': { intervals: [0, 2, 4, 5, 7, 9, 10], label: '混合利底亚 (Mixolydian)' },
        };

        const INTERVAL_MAP = {
            0: '1', 1: '1#', 2: '2', 3: 'b3', 4: '3', 5: '4', 
            6: 'b5', 7: '5', 8: 'b6', 9: '6', 10: 'b7', 11: '7'
        };

        // --- 核心逻辑 ---

        const getMidiAtPosition = (stringIndex, fret) => STRINGS_MIDI[stringIndex] + fret;

        const calculateNoteLabel = (midi, rootNote, displayMode) => {
            const noteIndex = midi % 12;
            const rootIndex = CHROMATIC_NOTES.indexOf(rootNote);
            
            if (displayMode === 'note') {
                return CHROMATIC_NOTES[noteIndex];
            } else {
                const interval = (noteIndex - rootIndex + 12) % 12;
                const baseChar = INTERVAL_MAP[interval];
                
                const BASE_OCTAVE_START_MIDI = 48; // C3
                const BASE_OCTAVE_END_MIDI = 59;   // B3
                let anchorRootMidi = -1;
                for (let m = BASE_OCTAVE_START_MIDI; m <= BASE_OCTAVE_END_MIDI; m++) {
                    if (m % 12 === rootIndex) {
                        anchorRootMidi = m;
                        break;
                    }
                }
                
                const dist = midi - anchorRootMidi;
                const octaveOffset = Math.floor(dist / 12);
                
                let suffix = '';
                if (octaveOffset >= 1) suffix = '.'.repeat(octaveOffset); 
                else if (octaveOffset <= -1) suffix = ','.repeat(Math.abs(octaveOffset)); 
                
                return baseChar + suffix;
            }
        };

        const isNoteInScale = (midi, rootNote, scaleName) => {
            const noteIndex = midi % 12;
            const rootIndex = CHROMATIC_NOTES.indexOf(rootNote);
            const interval = (noteIndex - rootIndex + 12) % 12;
            return SCALES[scaleName].intervals.includes(interval);
        };

        // 统一简谱符号：将 + 转为 . ，将 - 转为 , 以便比较
        const normalizeJianpu = (val) => {
            if (!val) return '';
            return val.replace(/\+/g, '.').replace(/-/g, ',');
        };

        // --- 子组件 ---

        const JianpuNote = ({ value }) => {
            if (!value) return null;
            // 修正 Regex：移除 . , + - 四种符号，只留音符本体
            const baseNote = value.replace(/[.,+\-]/g, '');
            // 修正 Regex：匹配 . 或 + 作为高音点
            const highCount = (value.match(/[.+]/g) || []).length;
            // 修正 Regex：匹配 , 或 - 作为低音点
            const lowCount = (value.match(/[,-]/g) || []).length;
            
            const dotStyle = "w-1 h-1 bg-current rounded-full mx-[1px]";

            return (
                <div className="flex flex-col items-center justify-center leading-none select-none pointer-events-none relative" style={{ minHeight: '1.5em' }}>
                    <div className="flex space-x-[1px] absolute -top-1.5 h-2 items-end">
                        {Array.from({ length: highCount }).map((_, i) => <div key={`h-${i}`} className={dotStyle}></div>)}
                    </div>
                    <div className="font-bold text-base z-10">{baseNote}</div>
                    <div className="flex space-x-[1px] absolute -bottom-1.5 h-2 items-start">
                        {Array.from({ length: lowCount }).map((_, i) => <div key={`l-${i}`} className={dotStyle}></div>)}
                    </div>
                </div>
            );
        };

        const FretCell = ({ 
            s, f, value, onChange, isMarked, isDouble, displayMode, showInlay, 
            checkMode, correctValue, isInScale,
            isActive, onActivate, onMoveFocus
        }) => {
            const inputRef = useRef(null);

            useEffect(() => {
                if (isActive && inputRef.current) {
                    inputRef.current.focus();
                }
            }, [isActive]);

            const handleKeyDown = (e) => {
                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    onMoveFocus('UP');
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    onMoveFocus('DOWN');
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    onMoveFocus('LEFT');
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    onMoveFocus('RIGHT');
                }
            };

            const hasValue = value && value.trim() !== '';

            let statusStyle = '';
            if (checkMode) {
                if (hasValue) {
                    // 使用 normalizeJianpu 进行比较
                    const isCorrect = normalizeJianpu(value) === normalizeJianpu(correctValue);
                    statusStyle = isCorrect ? 'ring-2 ring-green-500 bg-green-600 text-white' : 'ring-2 ring-red-500 bg-red-100 text-red-600';
                } else if (isInScale) {
                    statusStyle = 'ring-2 ring-yellow-400 border-dashed border-yellow-400 bg-yellow-50';
                }
            } else {
                statusStyle = hasValue ? 'bg-blue-600 text-white shadow-md transform scale-105 hover:bg-blue-700' : 'bg-transparent hover:bg-slate-100 hover:shadow-sm';
            }

            if (isActive) {
                statusStyle = 'bg-white ring-2 ring-blue-500 z-30 shadow-lg';
            }

            return (
                <div className="w-14 relative flex items-center justify-center border-r border-slate-400 shrink-0 h-14 group">
                    {showInlay && isMarked && (
                        <>
                            {!isDouble && (s === 2 || s === 3) && (
                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-slate-300 opacity-50 pointer-events-none z-0" />
                            )}
                            {isDouble && (s === 1 || s === 4) && (
                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-slate-300 opacity-50 pointer-events-none z-0" />
                            )}
                        </>
                    )}

                    <div 
                        onClick={(e) => {
                            // 阻止冒泡：点击格子本身时，不要触发外层的“取消选中”逻辑
                            e.stopPropagation();
                            onActivate(s, f);
                        }}
                        className={`w-9 h-9 rounded-full flex items-center justify-center cursor-pointer transition-all z-20 relative ${statusStyle}`}
                    >
                        {isActive ? (
                            <input
                                ref={inputRef}
                                type="text"
                                value={value || ''}
                                onChange={(e) => onChange(e.target.value)}
                                onKeyDown={handleKeyDown}
                                className="w-full h-full text-center text-sm font-bold focus:outline-none text-slate-900 bg-transparent rounded-full"
                                style={{ color: 'black' }} 
                            />
                        ) : (
                            <div className={`${(hasValue || (checkMode && isInScale && !hasValue)) ? '' : 'text-transparent'}`}>
                                {checkMode && !hasValue && isInScale ? (
                                    <div className="opacity-40 grayscale">
                                        {displayMode === 'interval' ? <JianpuNote value={correctValue} /> : <span className="font-bold text-sm">{correctValue}</span>}
                                    </div>
                                ) : (
                                    displayMode === 'interval' ? <JianpuNote value={value} /> : <span className="font-bold text-sm select-none">{value || '.'}</span>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // --- 主组件 ---

        const GuitarFretboard = () => {
            const [gridData, setGridData] = useState({}); 
            const [rootNote, setRootNote] = useState('C');
            const [selectedScale, setSelectedScale] = useState('Major (Ionian)');
            const [displayMode, setDisplayMode] = useState('interval'); 
            const [showInlays, setShowInlays] = useState(true);
            const [checkMode, setCheckMode] = useState(false);
            const [activeCell, setActiveCell] = useState(null);

            const FRETS = 24;

            // 加载本地存储
            useEffect(() => {
                const saved = localStorage.getItem('guitar-scale-data');
                if (saved) {
                    try {
                        setGridData(JSON.parse(saved));
                    } catch (e) {}
                }
            }, []);

            // 自动保存
            useEffect(() => {
                localStorage.setItem('guitar-scale-data', JSON.stringify(gridData));
            }, [gridData]);

            const getCorrectData = () => {
                const data = {};
                for (let s = 0; s < 6; s++) {
                    for (let f = 0; f <= FRETS; f++) {
                        const midi = getMidiAtPosition(s, f);
                        if (isNoteInScale(midi, rootNote, selectedScale)) {
                            data[`${s}-${f}`] = calculateNoteLabel(midi, rootNote, displayMode);
                        }
                    }
                }
                return data;
            };

            const generateScale = () => {
                setGridData(getCorrectData());
                setCheckMode(false);
                setActiveCell(null);
            };

            const handleCellChange = (s, f, value) => {
                setGridData(prev => ({ ...prev, [`${s}-${f}`]: value }));
                if (checkMode) setCheckMode(false);
            };

            const clearBoard = () => {
                setGridData({});
                setCheckMode(false);
                setActiveCell(null);
            };

            const toggleCheckMode = () => {
                setCheckMode(!checkMode);
            };

            const handleActivate = (s, f) => {
                setActiveCell({ s, f });
            };

            const handleMoveFocus = (currentS, currentF, direction) => {
                let newS = currentS;
                let newF = currentF;

                if (direction === 'UP') newS = Math.max(0, currentS - 1);
                else if (direction === 'DOWN') newS = Math.min(5, currentS + 1);
                else if (direction === 'LEFT') newF = Math.max(0, currentF - 1);
                else if (direction === 'RIGHT') newF = Math.min(FRETS, currentF + 1);

                setActiveCell({ s: newS, f: newF });
            };

            // 全局背景点击处理：取消选中
            const handleBackgroundClick = () => {
                setActiveCell(null);
            };

            const correctData = getCorrectData();
            
            const isMarkedFret = (fret) => [3, 5, 7, 9, 12, 15, 17, 19, 21, 24].includes(fret);
            const isDoubleMark = (fret) => fret === 12 || fret === 24;

            return (
                <div 
                    className="min-h-screen bg-slate-50 p-2 md:p-8 font-sans text-slate-800"
                    onClick={handleBackgroundClick} // 点击页面任意空白处取消选中
                >
                    <div className="max-w-7xl mx-auto space-y-6">
                        
                        {/* Header & Controls - 移除了 stopPropagation，允许点击标题栏空白处取消选中 */}
                        <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-4 md:p-6">
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                                <div>
                                    <h1 className="text-2xl font-bold text-slate-900 flex items-center gap-2">
                                        <Music className="w-6 h-6 text-blue-600" />
                                        吉他24品音阶 - 智能乐谱版
                                    </h1>
                                    <p className="text-slate-500 text-sm mt-1">
                                        支持简谱高低音（句号/逗号输入），包含自动改错功能。
                                    </p>
                                </div>
                                
                                <div className="flex gap-2">
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); toggleCheckMode(); }} // 按钮需要阻止冒泡，避免触发背景点击逻辑（虽然触发了也没事，但逻辑上更严谨）
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm font-medium border
                                            ${checkMode 
                                                ? 'bg-orange-50 text-orange-600 border-orange-200 hover:bg-orange-100' 
                                                : 'bg-white text-slate-600 border-slate-200 hover:bg-slate-50'}`}
                                    >
                                        {checkMode ? <RotateCcw className="w-4 h-4"/> : <CheckCircle className="w-4 h-4" />}
                                        {checkMode ? '退出改错' : '检查对错'}
                                    </button>

                                    <button 
                                        onClick={(e) => { e.stopPropagation(); clearBoard(); }}
                                        className="flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium"
                                    >
                                        <Trash2 className="w-4 h-4" />
                                        清空
                                    </button>
                                </div>
                            </div>

                            <div 
                                className="grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100"
                                onClick={(e) => e.stopPropagation()} // 控制面板内部点击（如下拉菜单）还是保留焦点比较好，防止点下拉菜单时输入框消失
                            >
                                <div className="space-y-1">
                                    <label className="text-xs font-semibold text-slate-500 uppercase">根音 (Root)</label>
                                    <select 
                                        value={rootNote} onChange={(e) => setRootNote(e.target.value)}
                                        className="w-full p-2 rounded border border-slate-300 bg-white focus:ring-2 focus:ring-blue-500 outline-none"
                                    >
                                        {CHROMATIC_NOTES.map(n => <option key={n} value={n}>{n}</option>)}
                                    </select>
                                </div>
                                
                                <div className="space-y-1">
                                    <label className="text-xs font-semibold text-slate-500 uppercase">音阶类型 (Scale)</label>
                                    <select 
                                        value={selectedScale} onChange={(e) => setSelectedScale(e.target.value)}
                                        className="w-full p-2 rounded border border-slate-300 bg-white focus:ring-2 focus:ring-blue-500 outline-none"
                                    >
                                        {Object.entries(SCALES).map(([key, val]) => <option key={key} value={key}>{val.label}</option>)}
                                    </select>
                                </div>

                                <div className="space-y-1">
                                    <label className="text-xs font-semibold text-slate-500 uppercase">显示模式</label>
                                    <div className="flex bg-white rounded border border-slate-300 overflow-hidden">
                                        <button 
                                            onClick={() => setDisplayMode('note')}
                                            className={`flex-1 py-2 text-sm font-medium transition-colors ${displayMode === 'note' ? 'bg-blue-100 text-blue-700' : 'hover:bg-slate-50'}`}
                                        >
                                            音名
                                        </button>
                                        <div className="w-px bg-slate-300"></div>
                                        <button 
                                            onClick={() => setDisplayMode('interval')}
                                            className={`flex-1 py-2 text-sm font-medium transition-colors ${displayMode === 'interval' ? 'bg-blue-100 text-blue-700' : 'hover:bg-slate-50'}`}
                                        >
                                            简谱
                                        </button>
                                    </div>
                                </div>

                                <div className="flex items-end">
                                    <button 
                                        onClick={generateScale}
                                        className="w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-colors"
                                    >
                                        显示答案 (自动生成)
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Fretboard Container - 移除了 stopPropagation */}
                        <div className="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
                            <div className="overflow-x-auto pb-6 custom-scrollbar">
                                <div className="inline-block min-w-max p-8">
                                    
                                    {/* Top Numbers */}
                                    <div className="flex mb-2 text-xs font-bold text-slate-400 select-none">
                                        <div className="w-14 text-center"></div> 
                                        
                                        {Array.from({ length: FRETS }).map((_, i) => (
                                            <div key={i} className="w-14 text-center">{i + 1}</div>
                                        ))}
                                    </div>

                                    {/* Board */}
                                    <div className="relative bg-[#fcfaf7] border border-slate-300 rounded-sm shadow-inner select-none flex flex-col w-max">
                                        <div className="absolute inset-0 opacity-5 pointer-events-none bg-orange-50"></div>

                                        {STRINGS_MIDI.map((_, stringIndex) => (
                                            <div key={stringIndex} className="flex h-14 relative border-b border-slate-200 last:border-0 items-center">
                                                
                                                {/* String Line */}
                                                <div className="absolute right-0 top-1/2 -translate-y-1/2 bg-slate-400 pointer-events-none z-0" 
                                                    style={{ 
                                                        left: '3.5rem', 
                                                        height: `${stringIndex * 0.5 + 1}px`, 
                                                        opacity: 0.8 
                                                    }}>
                                                </div>

                                                {/* Nut (0) */}
                                                <div className="w-14 relative flex items-center justify-center border-r-4 border-slate-700 bg-blue-50 z-10 shrink-0 h-full">
                                                    <FretCell 
                                                        s={stringIndex} f={0} 
                                                        value={gridData[`${stringIndex}-0`]} 
                                                        onChange={(val) => handleCellChange(stringIndex, 0, val)}
                                                        displayMode={displayMode}
                                                        showInlay={false}
                                                        checkMode={checkMode}
                                                        correctValue={correctData[`${stringIndex}-0`]}
                                                        isInScale={!!correctData[`${stringIndex}-0`]}
                                                        isActive={activeCell?.s === stringIndex && activeCell?.f === 0}
                                                        onActivate={handleActivate}
                                                        onMoveFocus={(dir) => handleMoveFocus(stringIndex, 0, dir)}
                                                    />
                                                </div>

                                                {/* Frets 1-24 */}
                                                {Array.from({ length: FRETS }).map((_, fretIndex) => {
                                                    const actualFret = fretIndex + 1;
                                                    const key = `${stringIndex}-${actualFret}`;
                                                    return (
                                                        <FretCell 
                                                            key={actualFret}
                                                            s={stringIndex} 
                                                            f={actualFret} 
                                                            value={gridData[key]} 
                                                            onChange={(val) => handleCellChange(stringIndex, actualFret, val)}
                                                            isMarked={isMarkedFret(actualFret)}
                                                            isDouble={isDoubleMark(actualFret)}
                                                            displayMode={displayMode}
                                                            showInlay={showInlays}
                                                            checkMode={checkMode}
                                                            correctValue={correctData[key]}
                                                            isInScale={!!correctData[key]}
                                                            isActive={activeCell?.s === stringIndex && activeCell?.f === actualFret}
                                                            onActivate={handleActivate}
                                                            onMoveFocus={(dir) => handleMoveFocus(stringIndex, actualFret, dir)}
                                                        />
                                                    );
                                                })}
                                            </div>
                                        ))}
                                    </div>
                                    
                                    {/* Bottom Numbers */}
                                    <div className="flex mt-2 text-xs font-bold text-slate-400 select-none">
                                        <div className="w-14 text-center"></div>
                                        {Array.from({ length: FRETS }).map((_, i) => (
                                            <div key={i} className="w-14 text-center">{i + 1}</div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Legend */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div className="bg-white p-5 rounded-lg border border-slate-200 shadow-sm">
                                <h3 className="font-bold text-slate-900 flex items-center gap-2 mb-3">
                                    <KeyboardIcon className="w-5 h-5 text-blue-500"/> 
                                    简谱输入说明
                                </h3>
                                <div className="space-y-3 text-sm text-slate-600">
                                    <p>键盘快捷键支持：使用 <strong>方向键</strong> 上下左右移动焦点。</p>
                                    <div className="grid grid-cols-2 gap-3">
                                        <div className="p-2 bg-slate-50 rounded border border-slate-100 flex flex-col gap-1">
                                            <div>
                                                <span className="font-mono bg-white px-1.5 py-0.5 rounded border border-slate-300 text-xs font-bold mr-2">.</span>
                                                <span className="font-mono bg-white px-1.5 py-0.5 rounded border border-slate-300 text-xs font-bold mr-2">+</span>
                                            </div>
                                            <span className="text-xs text-slate-500">句号/加号 = 高音</span>
                                        </div>
                                        <div className="p-2 bg-slate-50 rounded border border-slate-100 flex flex-col gap-1">
                                            <div>
                                                <span className="font-mono bg-white px-1.5 py-0.5 rounded border border-slate-300 text-xs font-bold mr-2">,</span>
                                                <span className="font-mono bg-white px-1.5 py-0.5 rounded border border-slate-300 text-xs font-bold mr-2">-</span>
                                            </div>
                                            <span className="text-xs text-slate-500">逗号/减号 = 低音</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white p-5 rounded-lg border border-slate-200 shadow-sm">
                                <h3 className="font-bold text-slate-900 flex items-center gap-2 mb-3">
                                    <CheckCircle className="w-5 h-5 text-green-500"/> 
                                    改错系统使用说明
                                </h3>
                                <ul className="list-disc list-inside space-y-2 text-sm text-slate-600">
                                    <li><strong>符号兼容</strong>：1. 和 1+ 都会显示为高音点；1, 和 1- 都会显示为低音点。</li>
                                    <li><strong>0品（空弦）</strong>：现在0品也是填空题！你需要填写正确的空弦音。</li>
                                    <li><strong>检查对错</strong>：点击上方“检查对错”按钮。</li>
                                    <li><strong>本地保存</strong>：你的练习记录会自动保存在当前浏览器中。</li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GuitarFretboard />);
    </script>
</body>
</html>